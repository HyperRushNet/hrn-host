<!DOCTYPE html>
<html>
<head>
  <title>Geef Code</title>
  <style>
    canvas { border: 1px solid black; image-rendering: pixelated; }
    textarea { width: 100%; height: 80px; }
  </style>
</head>
<body>
<h2>Code Generator</h2>
<textarea id="inputText">Hallo wereld!</textarea><br>
<button onclick="generateCode()">Genereer Code</button><br><br>
<canvas id="codeCanvas" width="256" height="256"></canvas>

<script>
function generateCode() {
  const text = document.getElementById("inputText").value;
  const base64 = btoa(unescape(encodeURIComponent(text)));
  const canvas = document.getElementById("codeCanvas");
  const ctx = canvas.getContext("2d");

  const size = 32;
  const cell = canvas.width / size;
  let bits = "";
  for (let i = 0; i < base64.length; i++) {
    bits += base64.charCodeAt(i).toString(2).padStart(8, '0');
  }

  ctx.clearRect(0, 0, canvas.width, canvas.height);
  for (let i = 0; i < size * size; i++) {
    const bit = bits[i] || '0';
    const x = i % size;
    const y = Math.floor(i / size);
    ctx.fillStyle = bit === '1' ? 'black' : 'white';
    ctx.fillRect(x * cell, y * cell, cell, cell);
  }
}
</script>
</body>
</html>
